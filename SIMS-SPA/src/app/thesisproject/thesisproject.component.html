<div class="container mt-4">
  <div *ngIf="!fromUserEditProfile" class="row justify-content-center mt-2">
  <h3 class="text-center text-primary">Update Thesis / Project</h3>
</div>
<div *ngIf="fromUserEditProfile" class="row justify-content-center mt-2">
  <h3 class="text-center text-primary">Upload Documents</h3>
</div>
<div *ngIf="!fromUserEditProfile" class="row justify-content-center mt-1 ml-1">
  <div class="col-12">
    <div class="row mt-3">
      <div class="col-6">
        <ag-grid-angular 
          #agGrid 
          id="thesisGrid"
          class="ag-theme-balham" 
          [rowData]="rowData" 
          [columnDefs]="columnDefs"
          [enableSorting]="true"
          [enableFilter]="true"
          [pagination]="true"
          [paginationPageSize]="20"
          (gridReady)="onGridReady($event)"
          (rowClicked)="onGridClicked($event)">
        </ag-grid-angular>
      </div>
      <div class="col-6">
        <div class="row">
          <div class="col-3">
            <label>Student ID</label>
          </div>
          <div class="col-3">
            <select class="thesis_input" [(ngModel)]="thesisProj.studentName" name="studentName">
              <option *ngFor="let student of students" [ngValue]="student.UserName">{{student.UserName}}</option>
            </select>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3">
            <label>Thesis / project</label>
          </div>
          <div class="col-3">
              <select name="docType" [(ngModel)]="thesisProj.docType" class="thesis_input">
                <option *ngFor="let doctype of docTypes" [ngValue]="doctype">{{doctype}}</option>
              </select>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3">
            <label>Topic</label>
          </div>
          <div class="col-3">
              <input type="text" class="thesis_input" [(ngModel)]="thesisProj.topic" name="topic">
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3">
            <label>File</label>
          </div>
          <div class="col-3">
              <input type="file" ng2FileSelect [uploader]="uploader" [(ngModel)]="thesisProj.fileName" name="fileName">
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3">
            <label>View Doc</label>
          </div>
          <div class="col-3">
              <a href={{thesisProj.full_url}} target="_blank">{{thesisProj.topic}}</a>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3">
            <button *ngIf="allowDelete" class="btn btn-primary" (click)="DeleteThesisProj()">Delete</button>
          </div>
          <div class="col-3">
            <button class="btn btn-primary" (click)="UpdateThesisProj()">Upload</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="fromUserEditProfile" class="row justify-content-center mt-1 ml-1">
  <div class="col-12">
    <div class="row mt-3">
      <div class="col-12">
        <ag-grid-angular 
          #agGrid 
          id="thesisGrid"
          class="ag-theme-balham" 
          [rowData]="rowData" 
          [columnDefs]="columnDefs"
          [enableSorting]="true"
          [enableFilter]="true"
          [pagination]="true"
          [paginationPageSize]="20"
          (gridReady)="onGridReady($event)"
          (rowClicked)="onGridClicked($event)">
        </ag-grid-angular>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12">
        <div class="row">
          <div class="col-3">
            <label>Name</label>
          </div>
          <div class="col-3">
            <label>{{thesisProj.studentName}}</label>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3">
            <label>Topic</label>
          </div>
          <div class="col-3">
              <input type="text" class="thesis_input" [(ngModel)]="thesisProj.topic" name="topic">
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3">
            <label>File</label>
          </div>
          <div class="col-3">
              <input type="file" ng2FileSelect [uploader]="uploader" [(ngModel)]="thesisProj.fileName" name="fileName">
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3">
            <label>View Doc</label>
          </div>
          <div class="col-3 text-truncate">
            <a href={{thesisProj.full_url}} target="_blank">{{thesisProj.topic}}</a>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-3"></div>
          <div class="col-3">
            <button class="btn btn-primary" (click)="UpdateThesisProj()">Update</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>